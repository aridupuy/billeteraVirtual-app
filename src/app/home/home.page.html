
<ion-content [fullscreen]="true">
  <section class="home-main">
    <div class="home-header">
      <ion-menu-button *ngIf="validado" color="primary" menu="menuPrincipal" type="reset"></ion-menu-button>
    </div>
    <div class="contenedor-90">
      <div class="user-header">
        <div class="avatar">
          RF
        </div>
        <div class="user-info">
          <span class="bienvenida">Hola,<span class="username"> {{username}}</span></span>
          <a class="cvu" *ngIf="validado" >Mi CVU</a>
        </div>
      </div>
      <div class="button-container" *ngIf="validado">
        <div class="saldo">
          <h2>Saldo Disponible</h2>
          <h1 class="regular saldoUsuario" *ngIf="!cargandoSaldo && mostrarSaldo">
            {{ saldoUsuario }}
          </h1>
          <h1 class="regular saldoUsuario" *ngIf="!cargandoSaldo && !mostrarSaldo">
            *******
          </h1>
          <ion-skeleton-text class="regular saldoUsuario skeletonSaldo" *ngIf="cargandoSaldo">
            <!-- {{ saldoUsuario }} -->
          </ion-skeleton-text>
          <ion-icon slot="end" *ngIf="mostrarSaldo"  name="eye-off-outline" (click)="toggleIcon()" color="white"></ion-icon>
          <ion-icon slot="end" *ngIf="!mostrarSaldo"  name="eye-outline" (click)="toggleIcon()" color="white"></ion-icon>
        </div>
        <div class="botonera" *ngIf="validado">
            <a href="/ingreso-dinero"><img src="assets/img/ingresar-dinero.svg" alt="Ingresar Dinero"></a>
            <a href="/ingreso-dinero"><img src="assets/img/transferir-dinero.svg" alt="Transferir Dinero"></a>
            <a href="/ingreso-dinero"><img src="assets/img/retirar-dinero.svg" alt="Retirar Dinero"></a>
            <a href="/ingreso-dinero"><img src="assets/img/codigo-qr.svg" alt="Código QR"></a>
        </div>

      </div>
      <!-- Modulo ultimos movimientos -->

      <div class="ultimos-movimientos" *ngIf="items">
        <ion-card class="full">
          <ion-card-header>
            <ion-card-title>Últimos movimientos <a class="link" (click)="irAHistorial()">Ver todos</a></ion-card-title>
          </ion-card-header>

          <ion-card-content>
            <ion-list class="lista-movimientos">
              <ion-item class="movimiento-wrapper" *ngFor="let item of items">
                <div class="movimiento">
                  <img src="assets/img/mov-recibiste.svg" alt="Recibiste" *ngIf="item.id_tipo_trans=='2'">
                  <img src="assets/img/mov-retiro.svg" alt="Recibiste" *ngIf="item.id_tipo_trans=='1'">
                  <img src="assets/img/mov-pago.svg" alt="Pagaste" *ngIf="item.tipo=='3'">
                  <div class="resumen">
                    <h4>{{item.titulo}}</h4>
                    <span>{{ item.fecha | date:'dd'}} de {{ fecha_espaniol(item.fecha | date:'M')}} - {{ item.fecha | date:'hh:mma'}}</span>
                  </div>
                </div>
                <div class="monto"> ${{item.precio}} </div>
              </ion-item>
              <!-- <ion-item class="movimiento-wrapper">
                <div class="movimiento">
                  <img src="assets/img/mov-recibiste.svg" alt="Recibiste">
                  <div class="resumen">
                    <h4>Recibiste de Florencia Pisandelli</h4>
                    <span>20 de mayo - 15:45pm</span>
                  </div>
                </div>
                <div class="monto"> +$456 </div>
              </ion-item>
              <ion-item class="movimiento-wrapper">
                <div class="movimiento">
                  <img src="assets/img/mov-retiro.svg" alt="Recibiste">
                  <div class="resumen">
                    <h4>Retiraste</h4>
                    <span>20 de mayo - 15:45pm</span>
                  </div>
                </div>
                <div class="monto"> -$456 </div>
              </ion-item>
              <ion-item class="movimiento-wrapper">
                <div class="movimiento">
                  <img src="assets/img/mov-pago.svg" alt="Pagaste">
                  <div class="resumen">
                    <h4>Pagaste a Florencia Pisandelli</h4>
                    <span>20 de mayo - 15:45pm</span>
                  </div>
                </div>
                <div class="monto"> -$456 </div>
              </ion-item> -->
            </ion-list>
          </ion-card-content>
          
        </ion-card>
      </div>
      <!-- Mensaje de email no validado -->
      <!-- <div class="mensaje-bienvenida">
        <ion-icon name="warning-outline"></ion-icon>
        <h1>Parece que aún no validaste tu cuenta</h1>
        <h2>Una vez que lo hagas vas a poder acceder a todas nuestras funciones. Revisá tu correo electrónico, validá tu mail y continuemos. ¡Nos vemos pronto!</h2>
        <a class="bold">Reenviar correo</a>
      </div> -->
      <!-- Mensaje si este validado pero todavía no tenga movimientos -->
      <div class="mensaje-bienvenida" *ngIf="!items || items.lenght == 0">
        <ion-icon name="wallet-outline"></ion-icon>
        <h1 *ngIf="validado">Todavía no hay nada por acá</h1>
        <h2 *ngIf="validado">¡Es hora de comenzar a hacer efectivo tu efectivo! Cuando lo hagas, acá vas a poder ver todos los movimientos que realizaste.</h2>
        <h1 *ngIf="!validado">{{mensaje}}</h1>
        <h2 *ngIf="!validado">¡Es hora de comenzar a hacer efectivo tu efectivo! Cuando lo hagas, acá vas a poder ver todos los movimientos que realizaste.</h2>
      </div>
  </div>
  
  </section>
</ion-content>
